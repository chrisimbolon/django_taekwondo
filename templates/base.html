{% load static %} 

<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap 5 CSS -->
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static '/css/style.css' %}" />

    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
    />
    <link rel="title icon" href="{% static 'images/add-user.png' %}" />
    <title>{% block title %} {% endblock title %}</title>
  </head>
  <body>
    <!-- Navbar -->
    <nav>
      <a class="logo" href="{% url 'home' %}">
        <img
          src="{% static 'images/Logo.png' %}"
          alt="App Logo"
          class="app-logo"
        />
      </a>
      <p class="feature-link m-0 p-0">
        {% if user.is_authenticated %}
        <form class="d-inline" action="{% url 'search' %}" method="GET">
          <input
            class="form-control search-box"
            type="search"
            placeholder="Search coach..."
            name="search_term"
            value="{{ search_term }}"
          />
        </form>

        <a href="{% url 'create' %}" class="mr-4 text-dark">Add coach</a>

        <form action="{% url 'logout' %}" method="post" class="d-inline">
          {% csrf_token %}
          <button type="submit" class="btn btn-link text-dark p-0 btn-logout">
            Logout
          </button>
        </form>
        {% else %}
        <a href="{% url 'signup' %}" class="mr-4 text-dark">Signup</a>
        <a href="#" type="button" class="mr-4 text-dark" data-bs-toggle="modal"
        data-bs-target="#loginModal" >Login</a>
      </p>
      {% endif %}
    </nav>
    <!-- Navbar ends -->

    {% include "registration/login.html" %}
    {% include "partials/_message.html" %}
    {% block content %}
    {% endblock content %}

    <!-- footer -->
    <footer class="mt-4 p-2">
      <p class="text-center p-1 m-0">&copy; Powered By Django</p>
    </footer>
    
    <script>
      // Check if the 'next' query parameter exists in the URL
      const urlParams = new URLSearchParams(window.location.search);
      const nextParam = urlParams.get('next');
    
      // If 'next' is present, show the login modal
      if (nextParam) {
        const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
        loginModal.show();
      }
    </script>
    
    <!-- Bootstrap 5 JavaScript Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
  </body>
</html>


